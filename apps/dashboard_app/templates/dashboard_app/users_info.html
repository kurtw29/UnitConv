<!doctype html>
<html lang='en'>
<head>
    <meta charset='utf-8'>
    <title>Dashboard</title>
<meta name='description' content=''>
<script src='https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js'></script>
<link rel='stylesheet' href='https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css' integrity='sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8{ERdknLPMO' crossorigin='anonymous'>
</head>
<body>
    <!--creating navigation bar at top-->
    <div class="d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm">
        {% load static %}
        <a href='/'><img src="{% static "unit_conv_app/images/Google_closure_tools_logo.png" %}" alt='logo pic' width=60px></a>
        <h5 class="my-0 mr-md-auto font-weight-normal"><a href='/'>Unit Conversion</a></h5>
        <nav class="my-2 my-md-0 mr-md-3">
            <a class="p-2 text-dark" href="account_info">Account info</a>
            <a class="p-2 text-dark" href="feedback">Feedback</a>
            <a class="p-2 text-dark" href="subscription">Subscription</a>
            <a class="p-2 text-dark" href="conversion_upload">Conversion Upload</a>
            <a class="p-2 text-dark" href="wall">Wall</a>
        </nav>
        <a class="btn btn-outline-primary" href="/logout">Logout</a>
        </div>
    <br>

    <!--display name and edit option-->
    <h4>Hello {{first_name}} {{last_name}}</h4><a href='account_edit'>Show/Edit account info</a>
    
    <!--Nav-tabs for user dashboard with 'account_info' active-->
    <ul class="nav nav-tabs">
        <li class="nav-item"><a class="nav-link" href="conversion_upload">Conversion Upload</a></li>
        <li class="nav-item"><a class="nav-link active" href="account_info">Account info</a></li>
        <li class="nav-item"><a class="nav-link" href="feedback">Feedback</a></li>
        <li class="nav-item"><a class="nav-link" href="subscription">Subscription</a></li>
        <li class="nav-item"><a class="nav-link" href="wall">Wall</a></li>
    </ul>

    <!--Heading: subect title + edit, search bar, and add-new functionality-->
    <div class='row'>
        <!--display name and account edit option-->
        <h3 class='col-md-6'>Manage Users</h3>
        <a class='ml-auto mr-2 btn btn-primary right' href='/users/new'>Add new</a></span>
    </div>
    
        <table class="table table-striped">
            <thead class='thead-dark'>
                <tr>
                <th scope="col">ID</th>
                <th scope="col">Name</th>
                <th scope="col">Email</th>
                <th scope="col">created_at</th>
                <th scope="col">user_level</th>
                <th scope="col">actions</th>
                </tr>
            </thead>
            <tbody>
                {% for user in users %}
                <tr>
                <th scope="row">{{id}}</th>
                <td><a class='link' href='/users/show/1'>{{user.first_name}} {{user.last_name}}</a></td>
                <td>{{user.email}}</td>
                <td>{{user.created_at}}</td>
                <td>{{user_level}}</td>
                <td><button type="button" class="btn btn-danger" data-toggle="modal" data-target="#exampleModal">Remove</button>
                    <!-- Modal -->
                    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Remove user</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                            </div>
                            <div class="modal-body">
                                <h4>Are you sure?</h4>
                            </div>
                            <div class="modal-footer">
                            <button type="button" class="btn btn-primary" data-dismiss="modal">No</button>
                            <a href='destroy/{{id}}' class="btn btn-danger">Yes, remove</a>
                            </div>
                        </div>
                        </div>
                    </div>
                </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</body>
</html>